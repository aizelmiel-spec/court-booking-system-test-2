<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boost Basketball | Court Booking System</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="bg-decor"></div>

    <!-- Loading Overlay -->
    <div id="loading-overlay">
        <div class="loader"></div>
    </div>

    <!-- 0. Role Selection View -->
    <div id="role-view" class="auth-container">
        <div class="auth-card fade-in" style="max-width: 600px;">
            <h1>Boost üèÄ <span>Basketball</span></h1>
            <p style="margin-bottom: 2rem; opacity: 0.8;">Welcome! Please select your role.</p>

            <div class="role-grid">
                <div class="role-card" onclick="selectRole('user')">
                    <span class="icon">‚õπÔ∏è</span>
                    <h3>Customer</h3>
                    <p style="font-size: 0.8rem; opacity: 0.7;">Book a court today</p>
                </div>
                <div class="role-card" onclick="selectRole('admin-login')">
                    <span class="icon">üëî</span>
                    <h3>Admin</h3>
                    <p style="font-size: 0.8rem; opacity: 0.7;">Manage reservations</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 1. Authentication View (Admin Only now) -->
    <div id="auth-view" class="auth-container" style="display: none;">
        <div class="auth-card fade-in">
            <button onclick="showView('role-view')"
                style="background: none; border: none; color: white; cursor: pointer; float: left; margin-top: -30px;">‚Üê
                Back</button>
            <h1>Admin <span>Login</span></h1>
            <p style="margin-bottom: 2rem; opacity: 0.8;">Access Dashboard</p>

            <form id="login-form">
                <div class="input-group">
                    <label>Username</label>
                    <input type="text" id="username" placeholder="Enter username" required>
                </div>
                <div class="input-group">
                    <label>Password</label>
                    <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                <button type="submit" class="btn">Login</button>
            </form>
            <p id="auth-error" style="color: #ff4d4d; margin-top: 1rem; font-size: 0.85rem; display: none;"></p>
        </div>
    </div>

    <!-- 2. User Booking View -->
    <div id="user-view" style="display: none;">
        <header class="container">
            <div class="logo">
                <span>Boost <b>Basketball</b></span>
            </div>
            <button class="btn" onclick="logout()" style="width: auto; padding: 8px 20px;">Logout</button>
        </header>

        <main class="container fade-in">
            <div class="booking-grid">
                <!-- Form -->
                <div class="card">
                    <h2>Book a Court</h2>
                    <form id="booking-form">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                            <div class="input-group">
                                <label>Full Name</label>
                                <input type="text" id="cust-name" placeholder="John Doe" required>
                            </div>
                            <div class="input-group">
                                <label>Contact Number</label>
                                <input type="tel" id="cust-contact" placeholder="09XX XXX XXXX" required>
                            </div>
                        </div>

                        <div class="input-group">
                            <label>Email Address</label>
                            <input type="email" id="cust-email" placeholder="john@example.com" required>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                            <div class="input-group">
                                <label>Sport</label>
                                <select id="select-sport" required>
                                    <option value="" disabled selected>Select Sport</option>
                                    <option value="Whole Basketball">Whole Basketball</option>
                                    <option value="Half Basketball">Half Basketball</option>
                                    <option value="Pickleball">Pickleball</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Specific Court</label>
                                <select id="select-court" required disabled>
                                    <option value="" disabled selected>Select Court</option>
                                </select>
                            </div>
                        </div>

                        <div
                            style="margin-top: 1rem; padding: 1rem; background: #fffbf0; border-radius: 8px; border-left: 4px solid var(--accent);">
                            <h4 style="font-size: 0.85rem; color: #856404; margin-bottom: 5px;">Court Rates (per hour)
                            </h4>
                            <p style="font-size: 0.8rem; opacity: 0.8;">Whole: ‚Ç±1,000 | Half: ‚Ç±500 | Pickleball: ‚Ç±300
                            </p>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                            <div class="input-group">
                                <label>Date</label>
                                <input type="date" id="book-date" required>
                            </div>
                            <div class="input-group">
                                <label>Start Time</label>
                                <select id="book-start" required>
                                    <option value="" disabled selected>Time</option>
                                    <option value="08:00">8:00 AM</option>
                                    <option value="09:00">9:00 AM</option>
                                    <option value="10:00">10:00 AM</option>
                                    <option value="11:00">11:00 AM</option>
                                    <option value="12:00">12:00 PM</option>
                                    <option value="13:00">1:00 PM</option>
                                    <option value="14:00">2:00 PM</option>
                                    <option value="15:00">3:00 PM</option>
                                    <option value="16:00">4:00 PM</option>
                                    <option value="17:00">5:00 PM</option>
                                    <option value="18:00">6:00 PM</option>
                                    <option value="19:00">7:00 PM</option>
                                    <option value="20:00">8:00 PM</option>
                                    <option value="21:00">9:00 PM</option>
                                    <option value="22:00">10:00 PM</option>
                                    <option value="23:00">11:00 PM</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>End Time</label>
                                <select id="book-end" required>
                                    <option value="" disabled selected>Time</option>
                                    <option value="09:00">9:00 AM</option>
                                    <option value="10:00">10:00 AM</option>
                                    <option value="11:00">11:00 AM</option>
                                    <option value="12:00">12:00 PM</option>
                                    <option value="13:00">1:00 PM</option>
                                    <option value="14:00">2:00 PM</option>
                                    <option value="15:00">3:00 PM</option>
                                    <option value="16:00">4:00 PM</option>
                                    <option value="17:00">5:00 PM</option>
                                    <option value="18:00">6:00 PM</option>
                                    <option value="19:00">7:00 PM</option>
                                    <option value="20:00">8:00 PM</option>
                                    <option value="21:00">9:00 PM</option>
                                    <option value="22:00">10:00 PM</option>
                                    <option value="23:00">11:00 PM</option>
                                    <option value="00:00">12:00 AM</option>
                                </select>
                            </div>
                        </div>

                        <div id="booking-total"
                            style="display: none; margin: 1rem 0; padding: 1rem; border: 1px dashed var(--primary); border-radius: 8px; text-align: center;">
                            <p style="font-size: 0.9rem;">Total Price: <b id="total-val">‚Ç±0</b></p>
                            <p style="font-size: 0.8rem; color: var(--primary);">50% Downpayment: <b
                                    id="down-val">‚Ç±0</b></p>
                        </div>

                        <button type="submit" class="btn" style="margin-top: 1rem;">Confirm Reservation</button>
                    </form>
                </div>

                <!-- Info Sidebar -->
                <div class="card" style="background: var(--secondary); color: white;">
                    <h3 style="margin-bottom: 1rem; color: var(--primary);">Quick Info</h3>
                    <p style="font-size: 0.9rem; line-height: 1.6; opacity: 0.8;">
                        ‚Ä¢ Double bookings are automatically prevented.<br>
                        ‚Ä¢ A confirmation will be sent to your email.<br>
                        ‚Ä¢ Bookings appear on the official Boost Basketball calendar.<br>
                        ‚Ä¢ <b style="color: #ff4d4d;">Policy:</b> Cancelling a booking will result in a fee equivalent to
                        the full amount already paid (No Refund).<br>
                        ‚Ä¢ To edit a past booking, please contact us at **0912 345 6789** or email
                        **boostbasketball@gmail.com**.
                    </p>
                    <div style="margin-top: 2rem; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 2rem;">
                        <h4 style="margin-bottom: 10px;">Operating Hours</h4>
                        <p style="font-size: 0.85rem; opacity: 0.7;">Daily: 8:00 AM - 12:00 AM</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- 4. Payment View -->
    <div id="payment-view" style="display: none;">
        <header class="container">
            <div class="logo">
                <span>Payment <b>Portal</b></span>
            </div>
        </header>

        <main class="container fade-in">
            <div class="card" style="max-width: 600px; margin: 0 auto; text-align: center;">
                <h2 style="color: var(--success);">‚úî Schedule Confirmed!</h2>
                <p>Your booking for <b id="summary-court">...</b> on <b id="summary-date">...</b> has been pre-reserved.
                </p>
                <p style="margin-top: 10px; opacity: 0.7;">Please select your preferred payment method to finalize.</p>

                <div class="payment-methods">
                    <div class="payment-card" onclick="selectPayment('GCash Full', this)">
                        <span class="gcash-logo">GCash</span>
                        <h3>Full Payment</h3>
                        <p>Pay 100% now via GCash.</p>
                    </div>
                    <div class="payment-card" onclick="selectPayment('Downpayment', this)">
                        <span class="gcash-logo">GCash</span>
                        <h3>Downpayment</h3>
                        <p>Pay 50% now, rest on spot.</p>
                    </div>
                </div>

                <div id="payment-details-area" style="display: none; margin-top: 2rem;">
                    <div
                        style="padding: 1.5rem; background: #f0f7ff; border-radius: 8px; border-left: 4px solid #007dfe; text-align: left;">
                        <h4>Payment Amount: <span id="payment-amt-text" style="color: #007dfe;">‚Ç±0</span></h4>
                        <p style="font-size: 0.85rem; margin-top: 10px;">Send to: <b>0912 345 6789</b> (Boost
                            Basketball)</p>

                        <div class="input-group" style="margin-top: 1.5rem;">
                            <label style="color: #333;">Upload Receipt (Screenshot)</label>
                            <input type="file" id="receipt-upload" accept="image/*"
                                style="background: white; border: 1px solid #007dfe;">
                        </div>
                    </div>
                </div>

                <button class="btn" style="margin-top: 2rem;" onclick="finalizeBooking()">Finalize Booking</button>
            </div>
        </main>
    </div>

    <!-- 3. Admin Dashboard View -->
    <div id="admin-view" style="display: none;">
        <header class="container">
            <div class="logo">
                <span>Boost <b>Dashboard</b></span>
            </div>
            <button class="btn" onclick="logout()" style="width: auto; padding: 8px 20px;">Logout</button>
        </header>

        <main class="container fade-in">
            <!-- Dashboard Stats -->
            <div
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                <div class="card stat-card" style="padding: 1.5rem;">
                    <small>Total Bookings Today</small>
                    <h2 id="stat-today-count">0</h2>
                </div>
                <div class="card stat-card" style="padding: 1.5rem;">
                    <small>Utilization Rate</small>
                    <h2 id="stat-utilization">0%</h2>
                </div>
                <div class="card stat-card" style="padding: 1.5rem;">
                    <small>Cancellations</small>
                    <h2 id="stat-cancellations" style="color: #dc3545;">0</h2>
                </div>
                <div class="card stat-card" style="padding: 1.5rem;">
                    <small>Active Courts</small>
                    <h2 id="stat-active-courts">0/7</h2>
                </div>
            </div>

            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                    <h2>All Bookings</h2>
                    <div class="filter-bar">
                        <div class="input-group">
                            <input type="date" id="filter-date" placeholder="Filter by date" onchange="applyFilters()">
                        </div>
                        <div class="input-group">
                            <select id="filter-sport" onchange="applyFilters()">
                                <option value="">All Sports</option>
                                <option value="Whole Basketball">Whole Basketball</option>
                                <option value="Half Basketball">Half Basketball</option>
                                <option value="Pickleball">Pickleball</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <select id="filter-court" onchange="applyFilters()">
                                <option value="">All Courts</option>
                                <!-- Populated dynamically -->
                            </select>
                        </div>
                    </div>
                </div>

                <div class="table-container">
                    <table id="bookings-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Sport / Court</th>
                                <th>Date & Time</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="bookings-body">
                            <!-- Rows added dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>

</html>